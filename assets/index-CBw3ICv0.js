var d=Object.defineProperty;var p=(i,e,o)=>e in i?d(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o;var c=(i,e,o)=>p(i,typeof e!="symbol"?e+"":e,o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();class h{constructor(e,o){c(this,"state");c(this,"scenes");this.scenes=Object.fromEntries(e.map(s=>[s.id,s])),this.state={scene:o,inventory:[],history:[]}}getCurrentScene(){return this.scenes[this.state.scene]}chooseOption(e){const o=this.getCurrentScene(),s=o.options[e];s.effect&&s.effect(this.state),this.state.history.push(o.id),this.state.scene=s.nextScene}getState(){return{...this.state}}}const f=[{id:"burning-bush",description:'You see a bush that burns but is not consumed. A voice calls your name: "Moses, Moses!"',options:[{text:"Approach the bush",nextScene:"god-speaks"},{text:"Run away",nextScene:"run-away"}]},{id:"god-speaks",description:'God speaks to you from the bush: "Take off your sandals, for the place where you are standing is holy ground."',options:[{text:"Remove sandals and listen",nextScene:"mission"}]},{id:"run-away",description:"You run away, but the memory of the burning bush stays with you.",options:[{text:"Return to the bush",nextScene:"burning-bush"}]},{id:"mission",description:'God gives you a mission: "Go to Pharaoh and bring my people out of Egypt."',options:[{text:"Accept the mission",nextScene:"accepted"},{text:"Refuse",nextScene:"refused"}]},{id:"accepted",description:"You accept Godâ€™s mission. Your journey begins!",options:[]},{id:"refused",description:"You refuse, but God encourages you to trust Him.",options:[{text:"Accept the mission",nextScene:"accepted"}]}],u=new h(f,"burning-bush");function a(){const i=u.getCurrentScene(),e=document.querySelector("#app");if(!e)return;e.innerHTML=`
    <div class="game-container">
      <div class="scene-description">${i.description}</div>
      <div class="options">
        ${(i.options||[]).map((s,t)=>`<button data-index="${t}">${s.text}</button>`).join("")}
      </div>
    </div>
  `,e.querySelectorAll(".options button").forEach(s=>{s.addEventListener("click",()=>{u.chooseOption(parseInt(s.getAttribute("data-index")||"0",10)),a()})})}a();
